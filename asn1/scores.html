<!DOCTYPE HTML>
<html lang="en">
<head>
<title>Game High Scores</title>
<meta name="viewport" content="user-scalable=no, width=device-width" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<!-- 
<link rel="stylesheet" type="text/css" href="iphone.css" media="only screen" />
 -->
 <style type="text/css"> 
 table {
color : black;
background : #fff;
border : 1px solid #B4B4B4;
font : bold 17px Helvetica;
padding : 0;
color : #666;
border-collapse : collapse;
margin : 15px 10px 17px 10px;
vertical-align : middle;
text-align : center;
-webkit-border-radius : 8px;
width : 80%;
}
table td {
padding : 8px 10px 8px 10px;
}
table th {
color : black;
padding : 8px 10px 8px 10px;
}
</style>
</head>
<body>
<div id="container">
<div id="header">
<h1>High Scores</h1>
  <input type="button" id="mainMenu"  value="To Main Menu" > 

<div id="tableData">

</div>
</div>
</div>
</script>
</body>
<script type="text/javascript"> 

  document.getElementById('mainMenu').addEventListener('touchstart',function() {window.location='main.html';} , false );

  var storedResultsJSON = localStorage.getItem('highScores');
  console.log (storedResultsJSON);

  if(storedResultsJSON != null){
    var storedResults = JSON.parse(storedResultsJSON); // storedResults should be an array of objects.
    console.log('length of incoming stored results array is '+storedResults.length);
    console.log ('storedResultsJSON is '+storedResultsJSON);
document.getElementById('tableData').innerHTML = storedResultsJSON;

var tableHead = '<tr><th>Score</th><th>Elapsed Time</th><th>Date</th></tr>';
var tableBody = '';
  for (var i=0; i < storedResults.length; i++){
  var d = new Date();
  d.setTime(storedResults[i].date);
var formattedDate =  d.toLocaleString();
    tableBody = tableBody +'<tr><td>'+storedResults[i].score+'</td><td>'+storedResults[i].elapsedTime+'</td><td>'+formattedDate+'</td></tr>';

  }

var tableHtml = '<table>'+tableHead+tableBody+'</table>';
document.getElementById('tableData').innerHTML = tableHtml;




} else {

document.getElementById('tableData').innerHTML = "No scores have yet been saved on this machine.";

}





</script>



</html>     
